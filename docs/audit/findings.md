# Faza 1 – Audyt: Wyniki wstępne (2025-10-24T13:52:52.9497990+02:00)

## Prezentacja w encjach (toArray/getFormatted/jsonSerialize/Groups:read)
D:\Projects\eventhub\backend\src\Controller\Api\EventController.php:114: ], $event->getTicketTypes()->toArray())
D:\Projects\eventhub\backend\src\Controller\Api\EventController.php:149: ], $event->getTicketTypes()->toArray())
D:\Projects\eventhub\backend\src\Controller\Api\EventController.php:59: $filtersDTO->toArray(),
D:\Projects\eventhub\backend\src\DTO\EventFiltersDTO.php:46: public function toArray(): array
D:\Projects\eventhub\backend\src\Entity\Event.php:100: #[Groups(['event:read'])]
D:\Projects\eventhub\backend\src\Entity\Event.php:104: #[Groups(['event:read'])]
D:\Projects\eventhub\backend\src\Entity\Event.php:108: #[Groups(['event:read'])]
D:\Projects\eventhub\backend\src\Entity\Event.php:112: #[Groups(['event:read'])]
D:\Projects\eventhub\backend\src\Entity\Event.php:116: #[Groups(['event:read'])]
D:\Projects\eventhub\backend\src\Entity\Event.php:121: #[Groups(['event:read'])]
D:\Projects\eventhub\backend\src\Entity\Event.php:125: #[Groups(['event:read', 'event:write'])]
D:\Projects\eventhub\backend\src\Entity\Event.php:129: #[Groups(['event:read'])]
D:\Projects\eventhub\backend\src\Entity\Event.php:133: #[Groups(['event:read'])]
D:\Projects\eventhub\backend\src\Entity\Event.php:138: #[Groups(['event:read'])]
D:\Projects\eventhub\backend\src\Entity\Event.php:413: #[Groups(['event:read'])]
D:\Projects\eventhub\backend\src\Entity\Event.php:429: #[Groups(['event:read'])]
D:\Projects\eventhub\backend\src\Entity\Event.php:435: #[Groups(['event:read'])]
D:\Projects\eventhub\backend\src\Entity\Event.php:451: #[Groups(['event:read'])]
D:\Projects\eventhub\backend\src\Entity\Event.php:457: #[Groups(['event:read'])]
D:\Projects\eventhub\backend\src\Entity\Event.php:532: #[Groups(['event:read'])]
D:\Projects\eventhub\backend\src\Entity\Event.php:540: #[Groups(['event:read'])]
D:\Projects\eventhub\backend\src\Entity\Event.php:552: #[Groups(['event:read'])]
D:\Projects\eventhub\backend\src\Entity\Event.php:558: #[Groups(['event:read'])]
D:\Projects\eventhub\backend\src\Entity\Event.php:603: #[Groups(['event:read'])]
D:\Projects\eventhub\backend\src\Entity\Event.php:65: #[Groups(['event:read'])]
D:\Projects\eventhub\backend\src\Entity\Event.php:71: #[Groups(['event:read', 'event:write'])]
D:\Projects\eventhub\backend\src\Entity\Event.php:76: #[Groups(['event:read', 'event:write'])]
D:\Projects\eventhub\backend\src\Entity\Event.php:82: #[Groups(['event:read', 'event:write'])]
D:\Projects\eventhub\backend\src\Entity\Event.php:87: #[Groups(['event:read', 'event:write'])]
D:\Projects\eventhub\backend\src\Entity\Event.php:92: #[Groups(['event:read', 'event:write'])]
D:\Projects\eventhub\backend\src\Entity\Event.php:96: #[Groups(['event:read', 'event:write'])]
D:\Projects\eventhub\backend\src\Entity\Order.php:121: #[Groups(['order:read'])]
D:\Projects\eventhub\backend\src\Entity\Order.php:246: #[Groups(['order:read'])]
D:\Projects\eventhub\backend\src\Entity\Order.php:28: #[Groups(['order:read'])]
D:\Projects\eventhub\backend\src\Entity\Order.php:33: #[Groups(['order:read', 'order:write'])]
D:\Projects\eventhub\backend\src\Entity\Order.php:38: #[Groups(['order:read', 'order:write'])]
D:\Projects\eventhub\backend\src\Entity\Order.php:42: #[Groups(['order:read', 'order:write'])]
D:\Projects\eventhub\backend\src\Entity\Order.php:46: #[Groups(['order:read', 'order:write'])]
D:\Projects\eventhub\backend\src\Entity\Order.php:50: #[Groups(['order:read', 'order:write'])]
D:\Projects\eventhub\backend\src\Entity\Order.php:54: #[Groups(['order:read'])]
D:\Projects\eventhub\backend\src\Entity\Order.php:58: #[Groups(['order:read'])]
D:\Projects\eventhub\backend\src\Entity\Order.php:62: #[Groups(['order:read', 'order:write'])]
D:\Projects\eventhub\backend\src\Entity\OrderItem.php:102: #[Groups(['order:read'])]
D:\Projects\eventhub\backend\src\Entity\OrderItem.php:108: #[Groups(['order:read'])]
D:\Projects\eventhub\backend\src\Entity\OrderItem.php:114: #[Groups(['order:read'])]
D:\Projects\eventhub\backend\src\Entity\OrderItem.php:19: #[Groups(['order:read'])]
D:\Projects\eventhub\backend\src\Entity\OrderItem.php:28: #[Groups(['order:read', 'order:write'])]
D:\Projects\eventhub\backend\src\Entity\OrderItem.php:32: #[Groups(['order:read', 'order:write'])]
D:\Projects\eventhub\backend\src\Entity\OrderItem.php:36: #[Groups(['order:read', 'order:write'])]
D:\Projects\eventhub\backend\src\Entity\OrderItem.php:90: #[Groups(['order:read'])]
D:\Projects\eventhub\backend\src\Entity\OrderItem.php:96: #[Groups(['order:read'])]
D:\Projects\eventhub\backend\src\Entity\Ticket.php:197: #[Groups(['ticket:read'])]
D:\Projects\eventhub\backend\src\Entity\Ticket.php:54: #[Groups(['ticket:read'])]
D:\Projects\eventhub\backend\src\Entity\Ticket.php:59: #[Groups(['ticket:read'])]
D:\Projects\eventhub\backend\src\Entity\Ticket.php:64: #[Groups(['ticket:read'])]
D:\Projects\eventhub\backend\src\Entity\Ticket.php:69: #[Groups(['ticket:read'])]
D:\Projects\eventhub\backend\src\Entity\Ticket.php:73: #[Groups(['ticket:read'])]
D:\Projects\eventhub\backend\src\Entity\Ticket.php:77: #[Groups(['ticket:read'])]
D:\Projects\eventhub\backend\src\Entity\Ticket.php:81: #[Groups(['ticket:read'])]
D:\Projects\eventhub\backend\src\Entity\Ticket.php:85: #[Groups(['ticket:read'])]
D:\Projects\eventhub\backend\src\Entity\Ticket.php:89: #[Groups(['ticket:read'])]
D:\Projects\eventhub\backend\src\Entity\TicketType.php:137: #[Groups(['event:read'])]
D:\Projects\eventhub\backend\src\Entity\TicketType.php:143: #[Groups(['event:read'])]
D:\Projects\eventhub\backend\src\Entity\TicketType.php:149: #[Groups(['event:read'])]
D:\Projects\eventhub\backend\src\Entity\TicketType.php:20: #[Groups(['event:read'])]
D:\Projects\eventhub\backend\src\Entity\TicketType.php:25: #[Groups(['event:read','event:write','ticket_type:write'])]
D:\Projects\eventhub\backend\src\Entity\TicketType.php:30: #[Groups(['event:read','event:write', 'ticket_type:write'])]
D:\Projects\eventhub\backend\src\Entity\TicketType.php:35: #[Groups(['event:read','event:write', 'ticket_type:write'])]
D:\Projects\eventhub\backend\src\Entity\User.php:199: #[Groups(['user:read'])]
D:\Projects\eventhub\backend\src\Entity\User.php:52: #[Groups(['user:read'])]
D:\Projects\eventhub\backend\src\Entity\User.php:58: #[Groups(['user:read', 'user:write'])]
D:\Projects\eventhub\backend\src\Entity\User.php:62: #[Groups(['user:read'])]
D:\Projects\eventhub\backend\src\Entity\User.php:71: #[Groups(['user:read', 'user:write'])]
D:\Projects\eventhub\backend\src\Entity\User.php:76: #[Groups(['user:read', 'user:write'])]
D:\Projects\eventhub\backend\src\Entity\User.php:80: #[Groups(['user:read', 'user:write'])]
D:\Projects\eventhub\backend\src\Entity\User.php:84: #[Groups(['user:read'])]
D:\Projects\eventhub\backend\src\Service\EventService.php:234: 'ticketTypes' => array_map([$this, 'formatTicketTypeData'], $event->getTicketTypes()->toArray()),

## Kontrolery zwracające JSON bez DTO
D:\Projects\eventhub\backend\src\Controller\Admin\CacheController.php:31: return $this->json($stats);
D:\Projects\eventhub\backend\src\Controller\Admin\CacheController.php:42: return $this->json($result);
D:\Projects\eventhub\backend\src\Controller\Admin\CacheController.php:53: return $this->json($metrics);
D:\Projects\eventhub\backend\src\Controller\Api\EventController.php:127: return $this->json([
D:\Projects\eventhub\backend\src\Controller\Api\EventController.php:152: return $this->errorHandler->createJsonResponse($e, 'Failed to fetch event');
D:\Projects\eventhub\backend\src\Controller\Api\EventController.php:178: return $this->json([
D:\Projects\eventhub\backend\src\Controller\Api\EventController.php:189: return $this->errorHandler->createJsonResponse($e, 'Failed to create event');
D:\Projects\eventhub\backend\src\Controller\Api\EventController.php:221: return $this->json([
D:\Projects\eventhub\backend\src\Controller\Api\EventController.php:227: return $this->errorHandler->createJsonResponse($e, 'Failed to queue event publication');
D:\Projects\eventhub\backend\src\Controller\Api\EventController.php:265: return $this->json([
D:\Projects\eventhub\backend\src\Controller\Api\EventController.php:278: return $this->errorHandler->createJsonResponse($e, 'Failed to update event');
D:\Projects\eventhub\backend\src\Controller\Api\EventController.php:299: return $this->json([
D:\Projects\eventhub\backend\src\Controller\Api\EventController.php:304: return $this->errorHandler->createJsonResponse($e, 'Failed to cancel event');
D:\Projects\eventhub\backend\src\Controller\Api\EventController.php:330: return $this->json(['message' => 'Event unpublished successfully']);
D:\Projects\eventhub\backend\src\Controller\Api\EventController.php:332: return $this->errorHandler->createJsonResponse($e, 'Failed to unpublish event');
D:\Projects\eventhub\backend\src\Controller\Api\EventController.php:357: return $this->json($statistics);
D:\Projects\eventhub\backend\src\Controller\Api\EventController.php:359: return $this->errorHandler->createJsonResponse($e, 'Failed to fetch event statistics');
D:\Projects\eventhub\backend\src\Controller\Api\EventController.php:395: return $this->json([
D:\Projects\eventhub\backend\src\Controller\Api\EventController.php:400: return $this->errorHandler->createJsonResponse($e, 'Failed to send notification');
D:\Projects\eventhub\backend\src\Controller\Api\EventController.php:55: return $this->json(['errors' => $violations], Response::HTTP_BAD_REQUEST);
D:\Projects\eventhub\backend\src\Controller\Api\EventController.php:65: return $this->json([
D:\Projects\eventhub\backend\src\Controller\Api\EventController.php:75: return $this->errorHandler->createJsonResponse($e, 'Failed to fetch events');
D:\Projects\eventhub\backend\src\Controller\Api\EventController.php:84: return $this->json($options);
D:\Projects\eventhub\backend\src\Controller\Api\EventController.php:86: return $this->errorHandler->createJsonResponse($e, 'Failed to fetch filter options');
D:\Projects\eventhub\backend\src\Controller\Api\TicketController.php:103: return $this->json(['error' => 'Unauthorized'], Response::HTTP_UNAUTHORIZED);
D:\Projects\eventhub\backend\src\Controller\Api\TicketController.php:108: return $this->json(['message' => 'Ticket cancelled']);
D:\Projects\eventhub\backend\src\Controller\Api\TicketController.php:110: return $this->errorHandler->createJsonResponse($e, 'Failed to cancel ticket');
D:\Projects\eventhub\backend\src\Controller\Api\TicketController.php:37: return $this->json(['error' => 'eventId parameter is required'], Response::HTTP_BAD_REQUEST);
D:\Projects\eventhub\backend\src\Controller\Api\TicketController.php:40: return $this->json(['error' => 'ticketTypeId parameter is required'], Response::HTTP_BAD_REQUEST);
D:\Projects\eventhub\backend\src\Controller\Api\TicketController.php:43: return $this->json(['error' => 'quantity must be between 1 and 10'], Response::HTTP_BAD_REQUEST);
D:\Projects\eventhub\backend\src\Controller\Api\TicketController.php:47: return $this->json($availability);
D:\Projects\eventhub\backend\src\Controller\Api\TicketController.php:49: return $this->errorHandler->createJsonResponse($e, 'Failed to check ticket availability');
D:\Projects\eventhub\backend\src\Controller\Api\TicketController.php:59: return $this->json(['error' => 'Unauthorized'], Response::HTTP_UNAUTHORIZED);
D:\Projects\eventhub\backend\src\Controller\Api\TicketController.php:65: return $this->json(['error' => 'eventId and ticketTypeId are required'], Response::HTTP_BAD_REQUEST);
D:\Projects\eventhub\backend\src\Controller\Api\TicketController.php:69: return $this->json(['error' => 'Event not found'], Response::HTTP_NOT_FOUND);
D:\Projects\eventhub\backend\src\Controller\Api\TicketController.php:73: return $this->json(['error' => 'Ticket type not found'], Response::HTTP_NOT_FOUND);
D:\Projects\eventhub\backend\src\Controller\Api\TicketController.php:76: return $this->json($result, Response::HTTP_CREATED);
D:\Projects\eventhub\backend\src\Controller\Api\TicketController.php:78: return $this->errorHandler->createJsonResponse($e, 'Failed to purchase ticket');
D:\Projects\eventhub\backend\src\Controller\Api\TicketController.php:88: return $this->json(['error' => 'Unauthorized'], Response::HTTP_UNAUTHORIZED);
D:\Projects\eventhub\backend\src\Controller\Api\TicketController.php:91: return $this->json(['tickets' => $tickets]);
D:\Projects\eventhub\backend\src\Controller\Api\TicketController.php:93: return $this->errorHandler->createJsonResponse($e, 'Failed to fetch user tickets');
D:\Projects\eventhub\backend\src\Controller\AuthController.php:32: return $this->json($this->userApplicationService->formatLoginResponse($user));
D:\Projects\eventhub\backend\src\Controller\AuthController.php:34: return $this->errorHandler->createJsonResponse($e, 'Login failed');
D:\Projects\eventhub\backend\src\Controller\AuthController.php:45: return $this->json($this->userApplicationService->getUserProfile($user));
D:\Projects\eventhub\backend\src\Controller\AuthController.php:47: return $this->errorHandler->createJsonResponse($e, 'Authentication check failed');
D:\Projects\eventhub\backend\src\Controller\AuthController.php:67: return $this->json(
D:\Projects\eventhub\backend\src\Controller\AuthController.php:72: return $this->errorHandler->createJsonResponse($e, 'Registration failed');
D:\Projects\eventhub\backend\src\Controller\HealthController.php:13: return new JsonResponse(['status' => 'ok'], 200);

## Legacy Services (backend\\src\\Service)
D:\Projects\eventhub\backend\src\Service\AuthService.php
D:\Projects\eventhub\backend\src\Service\CacheService.php
D:\Projects\eventhub\backend\src\Service\CacheStatsService.php
D:\Projects\eventhub\backend\src\Service\EmailService.php
D:\Projects\eventhub\backend\src\Service\ErrorHandlerService.php
D:\Projects\eventhub\backend\src\Service\EventService.php
D:\Projects\eventhub\backend\src\Service\EventStatisticsService.php
D:\Projects\eventhub\backend\src\Service\NotificationService.php
D:\Projects\eventhub\backend\src\Service\PaymentService.php
D:\Projects\eventhub\backend\src\Service\TicketAvailabilityService.php
D:\Projects\eventhub\backend\src\Service\TicketService.php
D:\Projects\eventhub\backend\src\Service\ValidationService.php

## API Platform/Providers/Processors wystąpienia
D:\Projects\eventhub\backend\src\Entity\Event.php:26: #[ApiResource(
D:\Projects\eventhub\backend\src\Entity\Event.php:5: use ApiPlatform\Metadata\ApiResource;
D:\Projects\eventhub\backend\src\Entity\Ticket.php:18: #[ApiResource(
D:\Projects\eventhub\backend\src\Entity\Ticket.php:5: use ApiPlatform\Metadata\ApiResource;
D:\Projects\eventhub\backend\src\Entity\User.php:23: #[ApiResource(
D:\Projects\eventhub\backend\src\Entity\User.php:5: use ApiPlatform\Metadata\ApiResource;
D:\Projects\eventhub\backend\src\State\EventStateProcessor.php:13: class EventStateProcessor implements ProcessorInterface
D:\Projects\eventhub\backend\src\State\EventStateProcessor.php:17: private ProcessorInterface $persistProcessor,
D:\Projects\eventhub\backend\src\State\EventStateProcessor.php:7: use ApiPlatform\State\ProcessorInterface;
D:\Projects\eventhub\backend\src\State\EventStateProvider.php:13: final class EventStateProvider implements ProviderInterface
D:\Projects\eventhub\backend\src\State\EventStateProvider.php:8: use ApiPlatform\State\ProviderInterface;
D:\Projects\eventhub\backend\src\State\UserStateProvider.php:12: final class UserStateProvider implements ProviderInterface
D:\Projects\eventhub\backend\src\State\UserStateProvider.php:8: use ApiPlatform\State\ProviderInterface;
