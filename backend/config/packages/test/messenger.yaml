framework:
    messenger:
        failure_transport: failed
        transports:
            sync: 'sync://'
            async: "amqp+lib://%env(RABBITMQ_USER)%:%env(RABBITMQ_PASSWORD)%@%env(RABBITMQ_HOST)%:%env(RABBITMQ_PORT)%/%2f/async"
            high_priority: "amqp+lib://%env(RABBITMQ_USER)%:%env(RABBITMQ_PASSWORD)%@%env(RABBITMQ_HOST)%:%env(RABBITMQ_PORT)%/%2f/high_priority"
            notifications: "amqp+lib://%env(RABBITMQ_USER)%:%env(RABBITMQ_PASSWORD)%@%env(RABBITMQ_HOST)%:%env(RABBITMQ_PORT)%/%2f/notifications"
            failed: 'doctrine://default?queue_name=failed'
        routing:
            'App\Message\Command\Payment\*': high_priority
            'App\Message\Command\*': async
            'App\Message\Query\*': sync
            'App\Message\Event\*': notifications
